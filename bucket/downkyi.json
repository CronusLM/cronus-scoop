{
    "version": "1.5.0",
    "description": "DownKyi is a bilibili video download tool.",
    "homepage": "https://github.com/leiurayer/downkyi/blob/main/README.md",
    "license": "GPL",
	"depends": [
        "aria2",
        "ffmpeg"
    ],
	"architecture": {
        "64bit": {
            "url": "https://github.com/leiurayer/downkyi/releases/download/v1.5.0/DownKyi-1.5.0.zip",
            "hash": "4fc6a36d0432e0d2e2ee930cbd995b5b905b44af6db6b2c9b416cba521d8f9fc"
        }
    },	
	"notes": "This package need .NET Framework 4.7.2",
	"pre_install": [
	"foreach ($form in @('*.exe')) {",
        "    foreach ($_ in Get-ChildItem \"$(appdir aria2 $global)\\current\" -File) {",
        "        $name = $_.Name",
        "        if ($name -Like $form) {",
        "            Write-Host \"Creating hardlink for $name\"",
        "            New-Item -ItemType HardLink -Path \"$dir\" -Name $name -Target \"$(appdir aria2 $global)\\current\\$name\" | Out-Null",
        "        }",
        "    }",
        "}",
	"foreach ($form in @('*.exe')) {",
        "    foreach ($_ in Get-ChildItem \"$(appdir ffmpeg $global)\\current\" -File) {",
        "        $name = $_.Name",
        "        if ($name -Like $form) {",
        "            Write-Host \"Creating hardlink for $name\"",
        "            New-Item -ItemType HardLink -Path \"$dir\" -Name $name -Target \"$(appdir ffmpeg $global)\\current\\$name\" | Out-Null",
        "        }",
        "    }",
        "}"
	],
    "shortcuts": [
        [
            "DownKyi.exe",
            "DownKyi"
        ]
    ],
    "persist": [
        "aria",
        "Bilibili",
        "Config",
        "Logs",
		"Storage"
    ],
	"bin": "DownKyi.exe",
    "checkver": {
        "github": "https://github.com/leiurayer/downkyi"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://github.com/leiurayer/downkyi/releases/download/v$version/DownKyi-$version.zip"
            }
        }
    }
}
